(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{52:function(t,a,e){"use strict";e.r(a);var s=e(0),o=Object(s.a)({},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"实例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实例","aria-hidden":"true"}},[t._v("#")]),t._v(" 实例")]),t._v(" "),e("h2",{attrs:{id:"tua-mp-实例类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tua-mp-实例类型","aria-hidden":"true"}},[t._v("#")]),t._v(" tua-mp 实例类型")]),t._v(" "),e("p",[t._v("小程序提供了以下三个函数：")]),t._v(" "),e("ul",[e("li",[t._v("App: 注册程序")]),t._v(" "),e("li",[t._v("Page: 注册页面")]),t._v(" "),e("li",[t._v("Component: 注册组件")])]),t._v(" "),e("p",[t._v("而 "),e("code",[t._v("tua-mp")]),t._v(" 只针对了 Page 和 Component 做适配，即：")]),t._v(" "),e("ul",[e("li",[t._v("Page -> TuaPage")]),t._v(" "),e("li",[t._v("Component -> TuaComp")])]),t._v(" "),e("h2",{attrs:{id:"创建实例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建实例","aria-hidden":"true"}},[t._v("#")]),t._v(" 创建实例")]),t._v(" "),e("p",[t._v("TuaPage 实例就像是没有 props 的 Vue 根实例。")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("TuaPage")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 选项")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[t._v("TuaComp 更像是一个 Vue 实例。")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("TuaComp")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 选项")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("h2",{attrs:{id:"实例生命周期钩子"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实例生命周期钩子","aria-hidden":"true"}},[t._v("#")]),t._v(" 实例生命周期钩子")]),t._v(" "),e("p",[t._v("由于小程序有一套自己的生命周期方法，所以 "),e("code",[t._v("tua-mp")]),t._v(" 在这里进行了一些简单的兼容。")]),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("例如在触发小程序的 onLoad 方法时，如果有以下方法的话，"),e("code",[t._v("tua-mp")]),t._v(" 会首先调用 "),e("code",[t._v("beforeCreate")]),t._v(" 方法，然后调用你填写的 "),e("code",[t._v("onLoad")]),t._v(" 方法，最后再调用 "),e("code",[t._v("created")]),t._v(" 方法。")])]),t._v(" "),e("h3",{attrs:{id:"page"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#page","aria-hidden":"true"}},[t._v("#")]),t._v(" Page")]),t._v(" "),e("ul",[e("li",[t._v("onLoad: "),e("code",[t._v("beforeCreate -> onLoad -> created")])]),t._v(" "),e("li",[t._v("onReady: "),e("code",[t._v("beforeMount -> onReady -> mounted")])]),t._v(" "),e("li",[t._v("onShow: 无")]),t._v(" "),e("li",[t._v("onHide: 无")]),t._v(" "),e("li",[t._v("onUnload: "),e("code",[t._v("beforeDestroy -> onUnload -> destroyed")])])]),t._v(" "),e("h3",{attrs:{id:"component"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#component","aria-hidden":"true"}},[t._v("#")]),t._v(" Component")]),t._v(" "),e("ul",[e("li",[t._v("created: "),e("code",[t._v("beforeCreate -> created")])]),t._v(" "),e("li",[t._v("attached: "),e("code",[t._v("beforeMount -> attached")])]),t._v(" "),e("li",[t._v("ready: "),e("code",[t._v("ready -> mounted")])]),t._v(" "),e("li",[t._v("moved: 无")]),t._v(" "),e("li",[t._v("detached: "),e("code",[t._v("beforeDestroy -> detached -> destroyed")])])]),t._v(" "),e("p",[t._v("此外在 setData 前会调用 beforeUpdate 方法，在 setData 回调中会调用 updated 方法。")]),t._v(" "),e("div",{staticClass:"warning custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),e("p",[t._v("不要在选项属性或回调上使用"),e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Arrow_functions",target:"_blank",rel:"noopener noreferrer"}},[t._v("箭头函数"),e("OutboundLink")],1),t._v("，比如 "),e("code",[t._v("created: () => console.log(this.a)")]),t._v("。因为箭头函数是和父级上下文绑定在一起的，this 不会是如你所预期的实例，经常导致 "),e("code",[t._v("Uncaught TypeError: Cannot read property of undefined 或 Uncaught TypeError: this.myMethod is not a function")]),t._v(" 之类的错误。")])])])},[],!1,null,null,null);a.default=o.exports}}]);