(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{47:function(a,t,e){"use strict";e.r(t);var s=e(0),r=Object(s.a)({},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{align:"center"}},[a._v("@tua-mp/cli")]),a._v(" "),e("p",{attrs:{align:"center"}},[e("a",{attrs:{href:"https://www.npmjs.com/package/@tua-mp/cli"}},[e("img",{attrs:{src:"https://img.shields.io/npm/v/@tua-mp/cli.svg",alt:"Version"}}),a._v(" "),e("img",{attrs:{src:"https://img.shields.io/npm/v/@tua-mp/cli/next.svg",alt:"Next Version"}}),a._v(" "),e("img",{attrs:{src:"https://img.shields.io/npm/l/@tua-mp/cli.svg",alt:"License"}})])]),a._v(" "),e("h2",{attrs:{id:"介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#介绍","aria-hidden":"true"}},[a._v("#")]),a._v(" 介绍")]),a._v(" "),e("p",[a._v("这个包为 tua-mp 提供了一些方便的命令，可以用于一键生成项目、创建页面、创建组件、创建 api 等功能。")]),a._v(" "),e("h2",{attrs:{id:"安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" i -g @tua-mp/cli\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# OR")]),a._v("\n$ yarn global add @tua-mp/cli\n")])])]),e("h2",{attrs:{id:"使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用","aria-hidden":"true"}},[a._v("#")]),a._v(" 使用")]),a._v(" "),e("h3",{attrs:{id:"初始化项目-init"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#初始化项目-init","aria-hidden":"true"}},[a._v("#")]),a._v(" 初始化项目 "),e("code",[a._v("init")])]),a._v(" "),e("p",[a._v("这个命令代理了 vue-cli v2，所以用法也一样...")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ tuamp init "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("template-name"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("project-name"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),e("h3",{attrs:{id:"添加接口命令-add-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加接口命令-add-api","aria-hidden":"true"}},[a._v("#")]),a._v(" 添加接口命令 "),e("code",[a._v("add api")])]),a._v(" "),e("p",[a._v("这个命令将添加一个新文件 "),e("code",[a._v("<name>.js")]),a._v(" 到 "),e("code",[a._v("src/apis/")]),a._v(" 下，并且如果不存在 "),e("code",[a._v("src/apis/index.js")]),a._v(" 则会自动创建。")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 添加小程序端 api")]),a._v("\n$ tuamp add api "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("name"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# OR")]),a._v("\n$ tuamp a api "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("name"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),e("p",[a._v("该命令会自动在 "),e("code",[a._v("src/apis/index.js")]),a._v(" 中导出该 "),e("code",[a._v("api")]),a._v("，例如 "),e("code",[a._v("<name>")]),a._v(" 为 "),e("code",[a._v("foo-bar")]),a._v("\b，那么导出的接口名称为 "),e("code",[a._v("fooBarApi")]),a._v("（已转成小驼峰，并在结尾加上 "),e("code",[a._v("Api")]),a._v("）。")]),a._v(" "),e("h3",{attrs:{id:"添加页面命令-add-page"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加页面命令-add-page","aria-hidden":"true"}},[a._v("#")]),a._v(" 添加页面命令 "),e("code",[a._v("add page")])]),a._v(" "),e("p",[a._v("这个命令将添加一个新文件夹 "),e("code",[a._v("<name>")]),a._v(" 到 "),e("code",[a._v("src/pages/")]),a._v(" 下，并且自动添加 "),e("code",[a._v("pages/<name>/<name>")]),a._v(" 到 "),e("code",[a._v("src/app/app.json")]),a._v(" 中。")]),a._v(" "),e("p",[a._v("并且如果页面以"),e("strong",[a._v("连字符")]),a._v("命名，那么相关的 "),e("code",[a._v(".vue")]),a._v(" 文件会被转成"),e("strong",[a._v("大驼峰")]),a._v("风格。")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("└─ pages\n   ├─ ...\n   └─ a-b           // 连字符\n      ├─ AB.vue     // 大驼峰\n      └─ index.js\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 添加小程序端 page")]),a._v("\n$ tuamp add page "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("name"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# OR")]),a._v("\n$ tuamp a page "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("name"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),e("p",[a._v("该命令会自动读取 "),e("code",[a._v("src/app/app.json")]),a._v(" 中的 "),e("code",[a._v("pages")]),a._v(" 字段，并将新页面加入。")]),a._v(" "),e("h3",{attrs:{id:"添加页面命令-add-comp"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加页面命令-add-comp","aria-hidden":"true"}},[a._v("#")]),a._v(" 添加页面命令 "),e("code",[a._v("add comp")])]),a._v(" "),e("p",[a._v("由于组件一般分为两种：")]),a._v(" "),e("ul",[e("li",[a._v("全局组件（位于 "),e("code",[a._v("src/comps/")]),a._v(" 下）")]),a._v(" "),e("li",[a._v("页面组件（位于 "),e("code",[a._v("src/pages/foo-bar/comps/")]),a._v(" 下）")])]),a._v(" "),e("p",[a._v("所以这个命令有两种用法，添加可选的 "),e("code",[a._v("-g, --global")]),a._v(" 参数表示添加全局组件，将添加一个新文件夹 "),e("code",[a._v("<name>")]),a._v(" 到 "),e("code",[a._v("src/comps/")]),a._v(" 下，否则会进行交互式询问模板文件夹的路径。")]),a._v(" "),e("p",[a._v("组件建议都使用"),e("strong",[a._v("大驼峰")]),a._v("命名风格")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("└─ comps\n   ├─ ...\n   └─ TuaImage          // 大驼峰\n      ├─ TuaImage.vue   // 大驼峰\n      └─ index.js\n")])])]),e("ul",[e("li",[a._v("全局添加小程序端 comp(-g, --global)")])]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ tuamp add comp "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("name"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" --global\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# OR")]),a._v("\n$ tuamp a comp "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("name"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" -g\n")])])]),e("ul",[e("li",[a._v("局部添加小程序端 comp")])]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ tuamp add comp "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("name"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# OR")]),a._v("\n$ tuamp a comp "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("name"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),e("blockquote",[e("p",[a._v("注意使用 "),e("code",[a._v("<Tab>")]),a._v(" 键补全路径，输入不存在的文件夹时会自动创建。")])]),a._v(" "),e("h3",{attrs:{id:"导出模板命令-eject"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#导出模板命令-eject","aria-hidden":"true"}},[a._v("#")]),a._v(" 导出模板命令 "),e("code",[a._v("eject")]),a._v(" "),e("Badge",{attrs:{text:"0.3.0+"}})],1),a._v(" "),e("p",[a._v("这个命令将包中的默认模板导出到 "),e("code",[a._v(".templates/")]),a._v(" 中。")]),a._v(" "),e("p",[a._v("这样通过修改"),e("code",[a._v(".templates/")]),a._v(" 下的模板文件，即可实现自定义模板功能。")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ tuamp "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("eject")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# OR")]),a._v("\n$ tuamp e\n")])])]),e("h2",{attrs:{id:"配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置","aria-hidden":"true"}},[a._v("#")]),a._v(" 配置")]),a._v(" "),e("p",[a._v("配置文件和 "),e("code",[a._v("@tua-mp/service")]),a._v(" 一样，都是使用 "),e("code",[a._v("tua.config.js")]),a._v("。")]),a._v(" "),e("h3",{attrs:{id:"templatedir"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#templatedir","aria-hidden":"true"}},[a._v("#")]),a._v(" templateDir "),e("Badge",{attrs:{text:"0.3.0+"}})],1),a._v(" "),e("ul",[e("li",[a._v("类型："),e("code",[a._v("String")])]),a._v(" "),e("li",[a._v("默认值："),e("code",[a._v(".templates")])])]),a._v(" "),e("p",[a._v("自定义模板的路径。")]),a._v(" "),e("p",[e("strong",[a._v("读取模板的优先级逻辑是：")])]),a._v(" "),e("ol",[e("li",[a._v("首先尝试使用 "),e("code",[a._v("tua.config.js")]),a._v(" 中的 "),e("code",[a._v("templateDir")]),a._v(" 字段")]),a._v(" "),e("li",[a._v("接着尝试读取 "),e("code",[a._v(".templates/")])]),a._v(" "),e("li",[a._v("最后读取默认模板")])]),a._v(" "),e("h2",{attrs:{id:"gif-示例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#gif-示例","aria-hidden":"true"}},[a._v("#")]),a._v(" gif 示例")]),a._v(" "),e("h3",{attrs:{id:"tuamp-add-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tuamp-add-api","aria-hidden":"true"}},[a._v("#")]),a._v(" "),e("code",[a._v("tuamp add api")])]),a._v(" "),e("p",[a._v("添加 api")]),a._v(" "),e("p",[e("img",{attrs:{src:a.$withBase("/cli/add-api.gif"),alt:"add api"}})]),a._v(" "),e("h3",{attrs:{id:"tuamp-add-page"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tuamp-add-page","aria-hidden":"true"}},[a._v("#")]),a._v(" "),e("code",[a._v("tuamp add page")])]),a._v(" "),e("p",[a._v("添加页面")]),a._v(" "),e("p",[e("img",{attrs:{src:a.$withBase("/cli/add-page.gif"),alt:"add page"}})]),a._v(" "),e("h3",{attrs:{id:"tuamp-add-comp-g"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tuamp-add-comp-g","aria-hidden":"true"}},[a._v("#")]),a._v(" "),e("code",[a._v("tuamp add comp -g")])]),a._v(" "),e("p",[a._v("添加全局组件")]),a._v(" "),e("p",[e("img",{attrs:{src:a.$withBase("/cli/add-comp-global.gif"),alt:"add comp -g"}})]),a._v(" "),e("h3",{attrs:{id:"tuamp-add-comp"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tuamp-add-comp","aria-hidden":"true"}},[a._v("#")]),a._v(" "),e("code",[a._v("tuamp add comp")])]),a._v(" "),e("p",[a._v("注意这里用的是本地模板 "),e("code",[a._v(".templates/comp")])]),a._v(" "),e("p",[e("img",{attrs:{src:a.$withBase("/cli/add-comp-local.gif"),alt:"add comp"}})]),a._v(" "),e("h3",{attrs:{id:"tuamp-eject"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tuamp-eject","aria-hidden":"true"}},[a._v("#")]),a._v(" "),e("code",[a._v("tuamp eject")]),a._v(" "),e("Badge",{attrs:{text:"0.3.0+"}})],1),a._v(" "),e("p",[a._v("导出默认模板")]),a._v(" "),e("p",[e("img",{attrs:{src:a.$withBase("/cli/eject.gif"),alt:"eject"}})]),a._v(" "),e("h3",{attrs:{id:"tuamp-add-api-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tuamp-add-api-2","aria-hidden":"true"}},[a._v("#")]),a._v(" "),e("code",[a._v("tuamp add api")])]),a._v(" "),e("ul",[e("li",[a._v("使用自定义模板 "),e("Badge",{attrs:{text:"0.3.0+"}})],1),a._v(" "),e("li",[a._v("覆盖已有 api")])]),a._v(" "),e("p",[e("img",{attrs:{src:a.$withBase("/cli/custom-template.gif"),alt:"custom template"}})])])},[],!1,null,null,null);t.default=r.exports}}]);