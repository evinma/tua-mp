(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{55:function(t,s,a){"use strict";a.r(s);var e=a(0),n=Object(e.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),a("h2",{attrs:{id:"_1-下载源码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载源码","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.下载源码")]),t._v(" "),a("p",[t._v("首先 "),a("a",{attrs:{href:"https://raw.githubusercontent.com/tuateam/tua-mp/master/packages/tua-mp/examples/basic/utils/tua-mp.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("点我下载源码"),a("OutboundLink")],1),t._v("，保存到你的小程序中（假设保存在 "),a("code",[t._v("utils/tua-mp.js")]),t._v("）。")]),t._v(" "),a("p",[t._v("接着在入口的 "),a("code",[t._v("js")]),t._v(" 代码中：")]),t._v(" "),a("ul",[a("li",[t._v("在页面中使用 "),a("code",[t._v("TuaPage")]),t._v(" 替代小程序提供的 "),a("code",[t._v("Page")])]),t._v(" "),a("li",[t._v("在组件中使用 "),a("code",[t._v("TuaComp")]),t._v(" 替代小程序提供的 "),a("code",[t._v("Component")])])]),t._v(" "),a("p",[t._v("替换后即可使用开发 "),a("code",[t._v("Vue")]),t._v(" 的方式来开发小程序。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// pages/index/index.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" TuaPage "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../../utils/tua-mp'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Page -> TuaPage")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("TuaPage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// comps/foobar/foobar.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" TuaComp "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../../utils/tua-mp'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Component -> TuaComp")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("TuaComp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("采用这种侵入性最小的方式，可以用于重构已有的小程序项目。即在部分页面或组件中使用 "),a("code",[t._v("tua-mp")]),t._v("。")])]),t._v(" "),a("h2",{attrs:{id:"_2-借助构建工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-借助构建工具","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.借助构建工具")]),t._v(" "),a("p",[t._v("在这部分我们将使用 webpack 来打包我们的源码，但其中 webpack 繁琐的配置已预先封装在 "),a("router-link",{attrs:{to:"/tua-mp-service/"}},[t._v("@tua-mp/service")]),t._v(" 里了。")],1),t._v(" "),a("p",[t._v("因此很自然地，日常前端开发中的各位“老朋友们”又回来了~")]),t._v(" "),a("ul",[a("li",[t._v("npm")]),t._v(" "),a("li",[t._v("babel")]),t._v(" "),a("li",[t._v("eslint")]),t._v(" "),a("li",[t._v("less/scss/stylus")]),t._v(" "),a("li",[t._v("...")])]),t._v(" "),a("h3",{attrs:{id:"_2-1-支持预处理器的-simple-版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-支持预处理器的-simple-版本","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.1.支持预处理器的 simple 版本")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://img.shields.io/badge/webpack-%5E4.12.1-green.svg",alt:"webpack version"}})]),t._v(" "),a("p",[t._v("推荐使用 "),a("a",{attrs:{href:"https://github.com/vuejs/vue-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-cli"),a("OutboundLink")],1),t._v(" 或 "),a("router-link",{attrs:{to:"/tua-mp-cli/"}},[t._v("@tua-mp/cli")]),t._v(" 一键生成项目：")],1),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ vue init tua-mp-templates/simple my-project\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# OR")]),t._v("\n$ tuamp init tua-mp-templates/simple my-project\n")])])]),a("ul",[a("li",[t._v("开发时运行 "),a("code",[t._v("npm start")]),t._v("，"),a("code",[t._v("webpack")]),t._v(" 就会开启监听")]),t._v(" "),a("li",[t._v("发布时运行 "),a("code",[t._v("npm run build")]),t._v("，"),a("code",[t._v("webpack")]),t._v(" 会先删除 "),a("code",[t._v("dist/")]),t._v(" 然后将源码压缩生成到其中")])]),t._v(" "),a("p",[t._v("在这个例子中我们将源码放在了 "),a("code",[t._v("src/")]),t._v(" 下，利用 "),a("code",[t._v("webpack")]),t._v(" 将其打包生成到 "),a("code",[t._v("dist/")]),t._v(" 目录下。")]),t._v(" "),a("p",[t._v("此外还对于样式的编写加入了预处理器的功能")]),t._v(" "),a("ul",[a("li",[t._v("wxss: 会被拷贝到 dist/ 下的对应路径")]),t._v(" "),a("li",[t._v("css: 需要在 js 中引入，生成对应的 wxss")]),t._v(" "),a("li",[t._v("less: 需要在 js 中引入，生成对应的 wxss")]),t._v(" "),a("li",[t._v("scss/sass: 需要在 js 中引入，生成对应的 wxss")]),t._v(" "),a("li",[t._v("stylus: 需要在 js 中引入，生成对应的 wxss")])]),t._v(" "),a("h3",{attrs:{id:"_2-2-支持单文件组件的-vue-版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-支持单文件组件的-vue-版本","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.2.支持单文件组件的 vue 版本")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://img.shields.io/badge/webpack-%5E4.12.1-green.svg",alt:"webpack version"}}),t._v(" "),a("img",{attrs:{src:"https://img.shields.io/badge/vue--loader-%5E15.2.4-green.svg",alt:"vue-loader version"}})]),t._v(" "),a("p",[t._v("推荐使用 "),a("a",{attrs:{href:"https://github.com/vuejs/vue-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-cli"),a("OutboundLink")],1),t._v(" 或 "),a("router-link",{attrs:{to:"/tua-mp-cli/"}},[t._v("@tua-mp/cli")]),t._v(" 一键生成项目：")],1),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ vue init tua-mp-templates/vue my-project\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# OR")]),t._v("\n$ tuamp init tua-mp-templates/vue my-project\n")])])]),a("p",[t._v("在这个例子中我们添加了 "),a("code",[t._v("vue-loader")]),t._v("，让我们能够使用文件扩展名为 "),a("code",[t._v(".vue")]),t._v(" 的 "),a("code",[t._v("single-file components")]),t._v("(单文件组件) 。")]),t._v(" "),a("p",[t._v("但在这个例子中的单文件组件和一般 web 端的单文件组件"),a("strong",[t._v("有所不同")]),t._v("：")]),t._v(" "),a("p",[t._v("1.页面的模板需要添加 "),a("code",[t._v('lang="wxml"')])]),t._v(" "),a("div",{staticClass:"language-vue extra-class"},[a("div",{staticClass:"highlight-lines"},[a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("wxml"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 小程序模板代码 --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("2.原本的 "),a("code",[t._v(".json")]),t._v(" 文件变成了 "),a("code",[t._v("<config>")])]),t._v(" "),a("div",{staticClass:"language-vue extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 默认 json --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("config")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v('\n{\n    "navigationBarTitleText": "tua-mp todos",\n    "usingComponents": {\n        "Todo": "./comps/Todo/Todo",\n        "Filter": "/comps/Filter/Filter"\n    }\n}\n'),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("config")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- yaml 或者 yml 也支持 --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("config")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("yml"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\nnavigationBarTitleText: 'tua-mp todos'\nusingComponents:\n    Todo: ./comps/Todo/Todo\n    Filter: /comps/Filter/Filter\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("config")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])])},[],!1,null,null,null);s.default=n.exports}}]);