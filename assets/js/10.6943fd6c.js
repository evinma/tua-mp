(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{49:function(a,e,t){"use strict";t.r(e);var s=t(0),n=Object(s.a)({},function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"实例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实例","aria-hidden":"true"}},[a._v("#")]),a._v(" 实例")]),a._v(" "),t("h2",{attrs:{id:"tua-mp-实例类型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tua-mp-实例类型","aria-hidden":"true"}},[a._v("#")]),a._v(" tua-mp 实例类型")]),a._v(" "),t("p",[a._v("小程序提供了以下三个函数：")]),a._v(" "),t("ul",[t("li",[a._v("App: 注册程序")]),a._v(" "),t("li",[a._v("Page: 注册页面")]),a._v(" "),t("li",[a._v("Component: 注册组件")])]),a._v(" "),t("p",[a._v("而 "),t("code",[a._v("tua-mp")]),a._v(" 只针对了 Page 和 Component 做适配，即：")]),a._v(" "),t("ul",[t("li",[a._v("Page -> TuaPage")]),a._v(" "),t("li",[a._v("Component -> TuaComp")])]),a._v(" "),t("h2",{attrs:{id:"创建实例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建实例","aria-hidden":"true"}},[a._v("#")]),a._v(" 创建实例")]),a._v(" "),t("p",[a._v("TuaPage 实例就像是没有 props 的 Vue 根实例。")]),a._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("TuaPage")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 选项")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),t("p",[a._v("TuaComp 更像是一个 Vue 实例。")]),a._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("TuaComp")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 选项")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),t("h2",{attrs:{id:"实例生命周期钩子"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实例生命周期钩子","aria-hidden":"true"}},[a._v("#")]),a._v(" 实例生命周期钩子")]),a._v(" "),t("p",[a._v("由于小程序有一套自己的生命周期方法，所以 "),t("code",[a._v("tua-mp")]),a._v(" 在这里进行了一些简单的兼容。")]),a._v(" "),t("div",{staticClass:"tip custom-block"},[t("p",[a._v("例如在触发小程序的 onLoad 方法时，如果有以下方法的话，"),t("code",[a._v("tua-mp")]),a._v(" 会首先调用 "),t("code",[a._v("beforeCreate")]),a._v(" 方法，然后调用你填写的 "),t("code",[a._v("onLoad")]),a._v(" 方法，最后再调用 "),t("code",[a._v("created")]),a._v(" 方法。")])]),a._v(" "),t("h3",{attrs:{id:"page"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#page","aria-hidden":"true"}},[a._v("#")]),a._v(" Page")]),a._v(" "),t("ul",[t("li",[a._v("onLoad: "),t("code",[a._v("beforeCreate -> onLoad -> created")])]),a._v(" "),t("li",[a._v("onReady: "),t("code",[a._v("beforeMount -> onReady -> mounted")])]),a._v(" "),t("li",[a._v("onShow: 无")]),a._v(" "),t("li",[a._v("onHide: 无")]),a._v(" "),t("li",[a._v("onUnload: "),t("code",[a._v("beforeDestroy -> onUnload -> destroyed")])])]),a._v(" "),t("h3",{attrs:{id:"component"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#component","aria-hidden":"true"}},[a._v("#")]),a._v(" Component")]),a._v(" "),t("ul",[t("li",[a._v("created: "),t("code",[a._v("beforeCreate -> created")])]),a._v(" "),t("li",[a._v("attached: "),t("code",[a._v("beforeMount -> attached")])]),a._v(" "),t("li",[a._v("ready: "),t("code",[a._v("ready -> mounted")])]),a._v(" "),t("li",[a._v("moved: 无")]),a._v(" "),t("li",[a._v("detached: "),t("code",[a._v("beforeDestroy -> detached -> destroyed")])])]),a._v(" "),t("p",[a._v("此外在 setData 前会调用 beforeUpdate 方法，在 setData 回调中会调用 updated 方法。")]),a._v(" "),t("div",{staticClass:"warning custom-block"},[t("p",[a._v("不要在选项属性或回调上使用"),t("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Arrow_functions",target:"_blank",rel:"noopener noreferrer"}},[a._v("箭头函数"),t("OutboundLink")],1),a._v("，比如 "),t("code",[a._v("created: () => console.log(this.a)")]),a._v("。因为箭头函数是和父级上下文绑定在一起的，this 不会是如你所预期的实例，经常导致 "),t("code",[a._v("Uncaught TypeError: Cannot read property of undefined 或 Uncaught TypeError: this.myMethod is not a function")]),a._v(" 之类的错误。")])])])},[],!1,null,null,null);e.default=n.exports}}]);